{% extends 'base.html' %}
{% load static %}
{% block styles %}
{{block.super}}
<link rel="stylesheet" href="{% static 'css/rate.css' %}">
{% endblock %}

{% block content %}
<!--Carousel Wrapper-->
<div id="carousel-example-2" class="carousel slide carousel-fade" data-ride="carousel">
  <!--Indicators-->
  <ol class="carousel-indicators">
    <li data-target="#carousel-example-2" data-slide-to="0" class="active"></li>
    <li data-target="#carousel-example-2" data-slide-to="1"></li>
    <li data-target="#carousel-example-2" data-slide-to="2"></li>
  </ol>
  <!--/.Indicators-->
  <!--Slides-->
  <div class="carousel-inner" role="listbox">
    <div class="carousel-item active">
      <div class="view">
        <img class="d-block w-100"
          src="https://images.pexels.com/photos/2365535/pexels-photo-2365535.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=750&w"
          style='height: 100vh' alt="First slide">
        <div class="mask rgba-black-strong"></div>
      </div>
      <div class="carousel-caption">
        <h1 class="page-title">
          Class of the year
        </h1>
        <h1 class="page-title">
          {{top.title}}
        </h1>

        <div class="circles">
          <div class="first circle">
            <strong></strong>
            <p>{{top.class_of_the_year}}/10</p>
            <span>Best class</span>
          </div>


          <div class="fifth circle">
            <strong></strong>
            <p>{{top.overall}}/10</p>
            <span>OVERALL</span>
          </div>

        </div>
        <a href="/project/{{top.id}}" class="btn btn-primary">Review</a>
      </div>
    </div>
    <div class="carousel-item">
      <!--Mask color-->
      <div class="view">
        <img class="d-block w-100"
          src="https://images.pexels.com/photos/267885/pexels-photo-267885.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=750&w=1260 "
          style='height: 100vh                        ;' alt="Second slide">
        <div class="mask rgba-black-strong"></div>
      </div>
      <div class="carousel-caption">
        <h1 class="page-title">
          Highest Voted Project
        </h1>
        <h1 class="page-title">
          {{top.title}}
        </h1>

        <div class="circles">
          <div class="first circle">
            <strong></strong>
            <p>{{top.class_of_the_year}}/10</p>
            <span>Best class</span>
          </div>

          <div class="fifth circle">
            <strong></strong>
            <p>{{top.overall}}/10</p>
            <span>OVERALL</span>
          </div>

        </div>
        <a href="/project/{{top.id}}" class="btn btn-primary">Review</a>
      </div>
    </div>
    <div class="carousel-item">
      <!--Mask color-->
      <div class="view">
        <img class="d-block w-100"
          src="https://images.pexels.com/photos/1184578/pexels-photo-1184578.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=750&w=1260"
          style='height: 100vh' alt="Third slide ">
        <div class="mask rgba-black-strong"></div>
      </div>
      <div class="carousel-caption">
        <h1 class="page-title">
          Highest ranked class
        </h1>
        <h1 class="page-title">
          {{top.title}}
        </h1>

        <div class="circles">
          <div class="first circle">
            <strong></strong>
            <p>{{top.class_of_the_year}}/10</p>
            <span>Best class</span>
          </div>


          <div class="fifth circle">
            <strong></strong>
            <p>{{top.overall}}/10</p>
            <span>OVERALL</span>
          </div>

        </div>
        <a href="/project/{{top.id}}" class="btn btn-primary">Review</a>
      </div>
    </div>
  </div>
  <!--/.Slides-->
  <!--Controls-->
  <a class="carousel-control-prev" href="#carousel-example-2" role="button" data-slide="prev">
    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
    <span class="sr-only">Previous</span>
  </a>
  <a class="carousel-control-next" href="#carousel-example-2" role="button" data-slide="next">
    <span class="carousel-control-next-icon" aria-hidden="true"></span>
    <span class="sr-only">Next</span>
  </a>

</div>
<div class="container-fluid">
  <br>
  <div class="row">
    {% for project in projects %}
    <div class="col-md-4">
      <div class="card">
        <img class="card-img-top" src="{{project.upload_your_images_here.url}}" alt="Card image cap">
        <div class="card-body">
          <p class="card-text"><strong>{{project.title}}</strong>: {{project.description |truncatechars_html:170}}</p>
          <p class="card-text"><strong>By</strong>: {{project.user}}</p>

          <a href="/project/{{project.id}}" class="btn btn-primary">Review</a>
        </div>
      </div>
    </div>
    {% endfor %}
  </div>

</div>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>
<script src="https://rawgit.com/kottenator/jquery-circle-progress/1.2.2/dist/circle-progress.js"></script>
<script>
  (function($) {

$('.first.circle').circleProgress({
  value: ({{top.class_of_the_year}}/10),
  fill: {gradient: [['#0681c4', .5], ['#4ac5f8', .5]], gradientAngle: Math.PI / 4}
}).on('circle-animation-progress', function(event, progress, stepValue) {
  $(this).find('strong').text((stepValue.toFixed(1).substr(1)));
});

$('.fifth.circle').circleProgress({
  value: ({{top.overall}}/10),
  fill: {gradient: [['Indigo', .5], ['SlateBlue', .5]], gradientAngle: Math.PI / 4}
}).on('circle-animation-progress', function(event, progress, stepValue) {
  $(this).find('strong').text((stepValue.toFixed(1).substr(1)));
});

})(jQuery);
</script>

{% endblock %}